{"id":"node_modules/popmotion/observer/index.js","dependencies":[{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/observer/index.js.map","includedInParent":true,"mtime":1525955812000},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/src/observer/index.ts","includedInParent":true,"mtime":1513028457000},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/package.json","includedInParent":true,"mtime":1611669448384},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/package.json","includedInParent":true,"mtime":1611669448356}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Observer = (function () {\n    function Observer(_a, observer) {\n        var middleware = _a.middleware, onComplete = _a.onComplete;\n        var _this = this;\n        this.isActive = true;\n        this.update = function (v) {\n            if (_this.observer.update)\n                _this.updateObserver(v);\n        };\n        this.complete = function () {\n            if (_this.observer.complete && _this.isActive)\n                _this.observer.complete();\n            if (_this.onComplete)\n                _this.onComplete();\n            _this.isActive = false;\n        };\n        this.error = function (err) {\n            if (_this.observer.error && _this.isActive)\n                _this.observer.error(err);\n            _this.isActive = false;\n        };\n        this.observer = observer;\n        this.updateObserver = function (v) { return observer.update(v); };\n        this.onComplete = onComplete;\n        if (observer.update && middleware && middleware.length) {\n            middleware.forEach(function (m) { return _this.updateObserver = m(_this.updateObserver, _this.complete); });\n        }\n    }\n    return Observer;\n}());\nexports.Observer = Observer;\nexports.default = function (observerCandidate, _a, onComplete) {\n    var middleware = _a.middleware;\n    if (typeof observerCandidate === 'function') {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, { update: observerCandidate });\n    }\n    else {\n        return new Observer({ middleware: middleware, onComplete: onComplete }, observerCandidate);\n    }\n};\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/observer/index.ts"],"names":[],"mappings":";;AAGA;IAME,kBAAY,EAAyC,EAAE,QAAyB;YAAlE,0BAAU,EAAE,0BAAU;QAApC,iBAQC;QAbO,aAAQ,GAAG,IAAI,CAAC;QAexB,WAAM,GAAG,UAAC,CAAM;YACd,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAA;QAED,aAAQ,GAAG;YACT,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,KAAI,CAAC,QAAQ,CAAC;gBAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACtE,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC;gBAAC,KAAI,CAAC,UAAU,EAAE,CAAC;YACvC,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxB,CAAC,CAAA;QAED,UAAK,GAAG,UAAC,GAAQ;YACf,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,IAAI,KAAI,CAAC,QAAQ,CAAC;gBAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnE,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACxB,CAAC,CAAA;QAtBC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,cAAc,GAAG,UAAC,CAAM,IAAK,OAAA,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAlB,CAAkB,CAAC;QACrD,IAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAE7B,EAAE,CAAC,CAAC,QAAQ,CAAC,MAAM,IAAI,UAAU,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;YACvD,UAAU,CAAC,OAAO,CAAC,UAAC,CAAa,IAAK,OAAA,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC,KAAI,CAAC,cAAc,EAAE,KAAI,CAAC,QAAQ,CAAC,EAA3D,CAA2D,CAAC,CAAC;QACrG,CAAC;IACH,CAAC;IAgBH,eAAC;AAAD,CAAC,AA9BD,IA8BC;AA9BY,4BAAQ;AAgCrB,kBAAe,UAAC,iBAAoC,EAAE,EAA6B,EAAE,UAAqB;QAAlD,0BAAU;IAChE,EAAE,CAAC,CAAC,OAAO,iBAAiB,KAAK,UAAU,CAAC,CAAC,CAAC;QAC5C,MAAM,CAAC,IAAI,QAAQ,CAAC,EAAE,UAAU,YAAA,EAAE,UAAU,YAAA,EAAE,EAAE,EAAE,MAAM,EAAE,iBAAiB,EAAE,CAAC,CAAC;IACjF,CAAC;IAAC,IAAI,CAAC,CAAC;QACN,MAAM,CAAC,IAAI,QAAQ,CAAC,EAAE,UAAU,YAAA,EAAE,UAAU,YAAA,EAAE,EAAE,iBAAiB,CAAC,CAAC;IACrE,CAAC;AACH,CAAC,CAAC","sourcesContent":["import { IObserver, Middleware, ObserverCandidate, ObserverProps, PartialObserver, Update } from './types';\n\n// TODO clear up some of the terminology here and look at merging more generally with Reaction\nexport class Observer implements IObserver {\n  private isActive = true;\n  private observer: PartialObserver;\n  private updateObserver: Update;\n  private onComplete: Function;\n\n  constructor({ middleware, onComplete }: ObserverProps, observer: PartialObserver) {\n    this.observer = observer;\n    this.updateObserver = (v: any) => observer.update(v);\n    this.onComplete = onComplete;\n\n    if (observer.update && middleware && middleware.length) {\n      middleware.forEach((m: Middleware) => this.updateObserver = m(this.updateObserver, this.complete));\n    }\n  }\n\n  update = (v: any) => {\n    if (this.observer.update) this.updateObserver(v);\n  }\n\n  complete = () => {\n    if (this.observer.complete && this.isActive) this.observer.complete();\n    if (this.onComplete) this.onComplete();\n    this.isActive = false;\n  }\n\n  error = (err: any) => {\n    if (this.observer.error && this.isActive) this.observer.error(err);\n    this.isActive = false;\n  }\n}\n\nexport default (observerCandidate: ObserverCandidate, { middleware }: ObserverProps, onComplete?: Function) => {\n  if (typeof observerCandidate === 'function') {\n    return new Observer({ middleware, onComplete }, { update: observerCandidate });\n  } else {\n    return new Observer({ middleware, onComplete }, observerCandidate);\n  }\n};\n"]}},"error":null,"hash":"68444552c6922eb09ef4ac1038cc2f51","cacheData":{"env":{}}}