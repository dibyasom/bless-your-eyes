{"id":"node_modules/popmotion/animations/keyframes/index.js","dependencies":[{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js.map","includedInParent":true,"mtime":1525955812000},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/src/animations/keyframes/index.ts","includedInParent":true,"mtime":1513028457000},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/package.json","includedInParent":true,"mtime":1611669448384},{"name":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/package.json","includedInParent":true,"mtime":1611669448356},{"name":"../../calc","loc":{"line":20,"column":21},"parent":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js","resolved":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/calc.js"},{"name":"../../easing","loc":{"line":21,"column":23},"parent":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js","resolved":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/easing.js"},{"name":"../../transformers","loc":{"line":22,"column":29},"parent":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js","resolved":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/transformers.js"},{"name":"../tween","loc":{"line":23,"column":22},"parent":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js","resolved":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/tween/index.js"},{"name":"../tween/scrubber","loc":{"line":24,"column":25},"parent":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/keyframes/index.js","resolved":"/home/divyu/Documents/GitHub/bless-your-eyes/node_modules/popmotion/animations/tween/scrubber.js"}],"generated":{"js":"\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar calc_1 = require(\"../../calc\");\nvar easing_1 = require(\"../../easing\");\nvar transformers_1 = require(\"../../transformers\");\nvar tween_1 = require(\"../tween\");\nvar scrubber_1 = require(\"../tween/scrubber\");\nvar clampProgress = transformers_1.clamp(0, 1);\nvar defaultEasings = function (values, easing) {\n    return values.map(function () { return easing || easing_1.easeOut; }).splice(0, values.length - 1);\n};\nvar defaultTimings = function (values) {\n    var numValues = values.length;\n    return values.map(function (value, i) { return (i !== 0) ? i / (numValues - 1) : 0; });\n};\nvar interpolateScrubbers = function (input, scrubbers, update) {\n    var rangeLength = input.length;\n    var finalInputIndex = rangeLength - 1;\n    var finalScrubberIndex = finalInputIndex - 1;\n    var subs = scrubbers.map(function (scrub) { return scrub.start(update); });\n    return function (v) {\n        if (v <= input[0]) {\n            subs[0].seek(0);\n        }\n        if (v >= input[finalInputIndex]) {\n            subs[finalScrubberIndex].seek(1);\n        }\n        var i = 1;\n        for (; i < rangeLength; i++) {\n            if (input[i] > v || i === finalInputIndex)\n                break;\n        }\n        var progressInRange = calc_1.getProgressFromValue(input[i - 1], input[i], v);\n        subs[i - 1].seek(clampProgress(progressInRange));\n    };\n};\nvar keyframes = function (_a) {\n    var easings = _a.easings, _b = _a.ease, ease = _b === void 0 ? easing_1.linear : _b, times = _a.times, values = _a.values, tweenProps = __rest(_a, [\"easings\", \"ease\", \"times\", \"values\"]);\n    easings = Array.isArray(easings)\n        ? easings\n        : defaultEasings(values, easings);\n    times = times || defaultTimings(values);\n    var scrubbers = easings.map(function (easing, i) { return scrubber_1.default({\n        from: values[i],\n        to: values[i + 1],\n        ease: easing\n    }); });\n    return tween_1.default(__assign({}, tweenProps, { ease: ease })).applyMiddleware(function (update) { return interpolateScrubbers(times, scrubbers, update); });\n};\nexports.default = keyframes;\n"},"sourceMaps":{"js":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/animations/keyframes/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { Action } from '../../action';\nimport { getProgressFromValue } from '../../calc';\nimport { easeOut, Easing, linear } from '../../easing';\nimport { Update } from '../../observer/types';\nimport { clamp } from '../../transformers';\nimport tween from '../tween';\nimport scrubber from '../tween/scrubber';\nimport { KeyframeProps } from './types';\n\nconst clampProgress = clamp(0, 1);\n\nconst defaultEasings = (values: number[], easing?: Easing): Easing[] =>\n  values.map((): Easing => easing || easeOut).splice(0, values.length - 1);\n\nconst defaultTimings = (values: number[]): number[] => {\n  const numValues = values.length;\n\n  return values.map((value: number, i: number): number => (i !== 0) ? i / (numValues - 1) : 0);\n};\n\n// TODO: Consolidate with `interpolate` transformer and keep this DRY\nconst interpolateScrubbers = (input: number[], scrubbers: Action[], update: Update) => {\n  const rangeLength = input.length;\n  const finalInputIndex = rangeLength - 1;\n  const finalScrubberIndex = finalInputIndex - 1;\n  const subs = scrubbers.map((scrub) => scrub.start(update));\n\n  return (v: number) => {\n    // If value outside minimum range, quickly return\n    if (v <= input[0]) {\n      subs[0].seek(0);\n    }\n\n    // If value outside maximum range, quickly return\n    if (v >= input[finalInputIndex]) {\n      subs[finalScrubberIndex].seek(1);\n    }\n\n    let i = 1;\n\n    // Find index of range start\n    for (; i < rangeLength; i++) {\n      if (input[i] > v || i === finalInputIndex) break;\n    }\n\n    const progressInRange = getProgressFromValue(input[i - 1], input[i], v);\n\n    subs[i - 1].seek(clampProgress(progressInRange));\n  };\n};\n\nconst keyframes = ({ easings, ease = linear, times, values, ...tweenProps }: KeyframeProps): Action => {\n  easings = Array.isArray(easings)\n    ? easings\n    : defaultEasings(values as number[], easings);\n  times = times || defaultTimings(values as number[]);\n\n  const scrubbers = easings.map((easing, i) => scrubber({\n    from: values[i],\n    to: values[i + 1],\n    ease: easing\n  }));\n\n  return tween({\n    ...tweenProps,\n    ease\n  }).applyMiddleware(\n    (update) => interpolateScrubbers(times, scrubbers, update)\n  );\n};\n\nexport default keyframes;\n"]}},"error":null,"hash":"72c79001942090abb921b96758006b9f","cacheData":{"env":{}}}